
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.pysmo.org/api/pysmo/functions/">
      
      
        <link rel="prev" href="../classes/">
      
      
        <link rel="next" href="../tools/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Index - pysmo</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/material.css">
    
      <link rel="stylesheet" href="../../../css/mermaid.css">
    
      <link rel="stylesheet" href="../../../css/mkdocstrings.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
      <link rel="stylesheet" href="../../../termynal.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pysmo.functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="pysmo" class="md-header__button md-logo" aria-label="pysmo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pysmo
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Index
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="blue-grey"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="blue-grey"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/pysmo/pysmo" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    pysmo/pysmo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="pysmo" class="md-nav__button md-logo" aria-label="pysmo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    pysmo
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pysmo/pysmo" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    pysmo/pysmo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../first-steps/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    First steps
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            First steps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../first-steps/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing pysmo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../first-steps/tutorial/tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../user-guide/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    User guide
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/in-the-box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    What is in the Box?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Classes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-guide/functions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Functions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            API reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    pysmo
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            pysmo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../classes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    pysmo.classes
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            pysmo.classes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  
  <span class="md-ellipsis">
    pysmo.functions
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            pysmo.functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../tools/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    pysmo.tools
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            pysmo.tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/azdist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    azdist
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/iccs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    iccs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/noise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    noise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/plotutils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    plotutils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/signal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    signal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../lib/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    pysmo.lib
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            pysmo.lib
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../developing/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Developing pysmo
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developing pysmo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developing/developing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../developing/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributors
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.clone_to_mini" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;clone_to_mini
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.copy_from_mini" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;copy_from_mini
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.crop" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;crop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.detrend" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;detrend
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.normalize" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;normalize
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.pad" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;pad
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.resample" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;resample
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.taper" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;taper
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pysmo.functions.time2index" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;time2index
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/pysmo/pysmo/edit/master/docs/api/pysmo/functions/index.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/pysmo/pysmo/raw/master/docs/api/pysmo/functions/index.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<div class="doc doc-object doc-module">



<h1 id="pysmo.functions" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">pysmo.functions</span>


<a href="#pysmo.functions" class="headerlink" title="Permanent link">#</a></h1>

    <div class="doc doc-contents first">

        <p>Simple operations using pysmo types.</p>
<p>This module provides functions that perform common operations using pysmo
types (mostly <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a>). They are meant to be building
blocks that can be used to construct more complex processing algorithms.</p>
<p>Many functions have a <code>clone</code> argument that controls whether the function
should operate on the input directly, or first create a clone of it (using
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/copy.html#copy.deepcopy"><code>deepcopy</code></a>) and return the clone after using it for the
the function. For example:</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">resample</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.classes</span><span class="w"> </span><span class="kn">import</span> <span class="n">SAC</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span> <span class="o">=</span> <span class="n">SAC</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;example.sac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">seismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_delta</span> <span class="o">=</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">delta</span> <span class="o">*</span> <span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># create a clone and modify data in clone instead of sac_seis:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_sac_seis</span> <span class="o">=</span> <span class="n">resample</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">,</span> <span class="n">new_delta</span><span class="p">,</span> <span class="n">clone</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># modify data in sac_seis directly:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resample</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">,</span> <span class="n">new_delta</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># because the deepcopy operation can be computationaly expensive,</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># you should NOT use the following pattern:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span> <span class="o">=</span> <span class="n">resample</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">,</span> <span class="n">new_delta</span><span class="p">,</span> <span class="n">clone</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>


<details class="hint" open>
  <summary>Hint</summary>
  <p>Additional functions may be found in <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-module&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-module-name&quot;&gt;pysmo.tools&lt;/span&gt;" href="../tools/#pysmo.tools"><code>pysmo.tools</code></a>.</p>
</details>
          









<p><span class="doc-section-title">Functions:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clone_to_mini&lt;/span&gt; (&lt;code&gt;pysmo.functions.clone_to_mini&lt;/code&gt;)" href="#pysmo.functions.clone_to_mini">clone_to_mini</a></code></b>
            –
            <div class="doc-md-description">
              <p>Create a new instance of a Mini class from a matching other one.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;copy_from_mini&lt;/span&gt; (&lt;code&gt;pysmo.functions.copy_from_mini&lt;/code&gt;)" href="#pysmo.functions.copy_from_mini">copy_from_mini</a></code></b>
            –
            <div class="doc-md-description">
              <p>Copy attributes from a Mini instance to matching other one.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;crop&lt;/span&gt; (&lt;code&gt;pysmo.functions.crop&lt;/code&gt;)" href="#pysmo.functions.crop">crop</a></code></b>
            –
            <div class="doc-md-description">
              <p>Shorten a seismogram by providing new begin and end times.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;detrend&lt;/span&gt; (&lt;code&gt;pysmo.functions.detrend&lt;/code&gt;)" href="#pysmo.functions.detrend">detrend</a></code></b>
            –
            <div class="doc-md-description">
              <p>Remove linear and/or constant trends from a seismogram.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;normalize&lt;/span&gt; (&lt;code&gt;pysmo.functions.normalize&lt;/code&gt;)" href="#pysmo.functions.normalize">normalize</a></code></b>
            –
            <div class="doc-md-description">
              <p>Normalize a seismogram with its absolute max value.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;pad&lt;/span&gt; (&lt;code&gt;pysmo.functions.pad&lt;/code&gt;)" href="#pysmo.functions.pad">pad</a></code></b>
            –
            <div class="doc-md-description">
              <p>Pad seismogram data.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;resample&lt;/span&gt; (&lt;code&gt;pysmo.functions.resample&lt;/code&gt;)" href="#pysmo.functions.resample">resample</a></code></b>
            –
            <div class="doc-md-description">
              <p>Resample Seismogram data using the Fourier method.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;taper&lt;/span&gt; (&lt;code&gt;pysmo.functions.taper&lt;/code&gt;)" href="#pysmo.functions.taper">taper</a></code></b>
            –
            <div class="doc-md-description">
              <p>Apply a symetric taper to the ends of a Seismogram.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;time2index&lt;/span&gt; (&lt;code&gt;pysmo.functions.time2index&lt;/code&gt;)" href="#pysmo.functions.time2index">time2index</a></code></b>
            –
            <div class="doc-md-description">
              <p>Retuns data index corresponding to a given time.</p>
            </div>
          </li>
    </ul>





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.clone_to_mini" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">clone_to_mini</span>


<a href="#pysmo.functions.clone_to_mini" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">clone_to_mini</span><span class="p">(</span>
    <span class="n">mini_cls</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#type">type</a></span><span class="p">[</span><span class="n"><span title="pysmo.functions._utils.clone_to_mini[TMini]">clone_to_mini[TMini]</span></span><span class="p">],</span>
    <span class="n">source</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;_AnyProto&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;pysmo.lib.typing._AnyProto&lt;/code&gt;)" href="../lib/#pysmo.lib.typing._AnyProto">_AnyProto</a></span><span class="p">,</span>
    <span class="n">update</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="pysmo.functions._utils.clone_to_mini[TMini]">clone_to_mini[TMini]</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Create a new instance of a Mini class from a matching other one.</p>
<p>This function is creates a clone of an exising class by
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/copy.html#copy.copy">copying</a> the attributes defined in <code>mini_cls</code> from the source
to the target. Attributes only present in the source object are ignored,
potentially resulting in a smaller and more performant object.</p>
<p>If the source instance is missing an attribute for which a default is
defined in the target class, then that default value for that attribute is
used.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>mini_cls</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#type">type</a>[<span title="pysmo.functions._utils.clone_to_mini[TMini]">clone_to_mini[TMini]</span>]</code>)
          –
          <div class="doc-md-description">
            <p>The type of Mini class to create.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>source</code></b>
              (<code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;_AnyProto&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;pysmo.lib.typing._AnyProto&lt;/code&gt;)" href="../lib/#pysmo.lib.typing._AnyProto">_AnyProto</a></code>)
          –
          <div class="doc-md-description">
            <p>The instance to clone (must contain all attributes present
in <code>mini_cls</code>).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>update</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Update or add attributes in the returned <code>mini_cls</code> instance.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="pysmo.functions._utils.clone_to_mini[TMini]">clone_to_mini[TMini]</span></code>
          –
          <div class="doc-md-description">
            <p>A new Mini instance type mini_cls.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#AttributeError">AttributeError</a></code>
            –
          <div class="doc-md-description">
            <p>If the <code>source</code> instance does not contain all
attributes in <code>mini_cls</code> (unless they are provided with the
<code>update</code> keyword argument).</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <p>Create a <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;MiniSeismogram&lt;/span&gt;" href="../../#pysmo.MiniSeismogram"><code>MiniSeismogram</code></a> from a
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;SacSeismogram&lt;/span&gt;" href="../classes/#pysmo.classes.SacSeismogram"><code>SacSeismogram</code></a> instance with
a new <code>begin_time</code>.</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">clone_to_mini</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo</span><span class="w"> </span><span class="kn">import</span> <span class="n">MiniSeismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.classes</span><span class="w"> </span><span class="kn">import</span> <span class="n">SAC</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timezone</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seismogram</span> <span class="o">=</span> <span class="n">SAC</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;example.sac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">seismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">mini_seismogram</span> <span class="o">=</span> <span class="n">clone_to_mini</span><span class="p">(</span><span class="n">MiniSeismogram</span><span class="p">,</span> <span class="n">sac_seismogram</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;begin_time&quot;</span><span class="p">:</span> <span class="n">now</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">all</span><span class="p">(</span><span class="n">sac_seismogram</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="n">mini_seismogram</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">mini_seismogram</span><span class="o">.</span><span class="n">begin_time</span> <span class="o">==</span> <span class="n">now</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>


<details class="tip" open>
  <summary>See Also</summary>
  <p><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;copy_from_mini&lt;/span&gt;" href="#pysmo.functions.copy_from_mini"><code>copy_from_mini</code></a>: Copy attributes
from a Mini instance to matching other one.</p>
</details>
          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clone_to_mini</span><span class="p">[</span><span class="n">TMini</span><span class="p">:</span> <span class="n">_AnyMini</span><span class="p">](</span>
    <span class="n">mini_cls</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="n">TMini</span><span class="p">],</span> <span class="n">source</span><span class="p">:</span> <span class="s2">&quot;_AnyProto&quot;</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TMini</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new instance of a Mini class from a matching other one.</span>

<span class="sd">    This function is creates a clone of an exising class by</span>
<span class="sd">    [copying][copy.copy] the attributes defined in `mini_cls` from the source</span>
<span class="sd">    to the target. Attributes only present in the source object are ignored,</span>
<span class="sd">    potentially resulting in a smaller and more performant object.</span>

<span class="sd">    If the source instance is missing an attribute for which a default is</span>
<span class="sd">    defined in the target class, then that default value for that attribute is</span>
<span class="sd">    used.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        mini_cls: The type of Mini class to create.</span>
<span class="sd">        source: The instance to clone (must contain all attributes present</span>
<span class="sd">            in `mini_cls`).</span>
<span class="sd">        update: Update or add attributes in the returned `mini_cls` instance.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new Mini instance type mini_cls.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AttributeError: If the `source` instance does not contain all</span>
<span class="sd">            attributes in `mini_cls` (unless they are provided with the</span>
<span class="sd">            `update` keyword argument).</span>

<span class="sd">    Examples:</span>
<span class="sd">        Create a [`MiniSeismogram`][pysmo.MiniSeismogram] from a</span>
<span class="sd">        [`SacSeismogram`][pysmo.classes.SacSeismogram] instance with</span>
<span class="sd">        a new `begin_time`.</span>

<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.functions import clone_to_mini</span>
<span class="sd">        &gt;&gt;&gt; from pysmo import MiniSeismogram</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.classes import SAC</span>
<span class="sd">        &gt;&gt;&gt; from datetime import datetime, timezone</span>
<span class="sd">        &gt;&gt;&gt; now = datetime.now(timezone.utc)</span>
<span class="sd">        &gt;&gt;&gt; sac_seismogram = SAC.from_file(&quot;example.sac&quot;).seismogram</span>
<span class="sd">        &gt;&gt;&gt; mini_seismogram = clone_to_mini(MiniSeismogram, sac_seismogram, update={&quot;begin_time&quot;: now})</span>
<span class="sd">        &gt;&gt;&gt; all(sac_seismogram.data == mini_seismogram.data)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; mini_seismogram.begin_time == now</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        ```</span>

<span class="sd">    Tip: See Also</span>
<span class="sd">        [`copy_from_mini`][pysmo.functions.copy_from_mini]: Copy attributes</span>
<span class="sd">        from a Mini instance to matching other one.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">update</span> <span class="o">=</span> <span class="n">update</span> <span class="ow">or</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span>
        <span class="nb">map</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="ow">or</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">update</span>
            <span class="ow">or</span> <span class="n">x</span><span class="o">.</span><span class="n">default</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NOTHING</span><span class="p">,</span>
            <span class="n">fields</span><span class="p">(</span><span class="n">mini_cls</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">):</span>
        <span class="n">clone_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="p">(</span>
                <span class="n">update</span><span class="p">[</span><span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">attr</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="n">update</span>
                <span class="k">else</span> <span class="n">copy</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">default</span><span class="p">))</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">fields</span><span class="p">(</span><span class="n">mini_cls</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="c1"># TODO: why do we need cast here for mypy?</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">TMini</span><span class="p">,</span> <span class="n">mini_cls</span><span class="p">(</span><span class="o">**</span><span class="n">clone_dict</span><span class="p">))</span>

    <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;Unable to create clone: </span><span class="si">{</span><span class="n">source</span><span class="si">}</span><span class="s2"> not compatible with </span><span class="si">{</span><span class="n">mini_cls</span><span class="si">}</span><span class="s2">.&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.copy_from_mini" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">copy_from_mini</span>


<a href="#pysmo.functions.copy_from_mini" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">copy_from_mini</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;_AnyMini&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;pysmo.lib.typing._AnyMini&lt;/code&gt;)" href="../lib/#pysmo.lib.typing._AnyMini">_AnyMini</a></span><span class="p">,</span>
    <span class="n">target</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;_AnyProto&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;pysmo.lib.typing._AnyProto&lt;/code&gt;)" href="../lib/#pysmo.lib.typing._AnyProto">_AnyProto</a></span><span class="p">,</span>
    <span class="n">update</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Copy attributes from a Mini instance to matching other one.</p>
<p>This function <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/copy.html#copy.copy">copies</a> all attributes in the <code>source</code> Mini class
instance to a compatible <code>target</code> instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>source</code></b>
              (<code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;_AnyMini&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;pysmo.lib.typing._AnyMini&lt;/code&gt;)" href="../lib/#pysmo.lib.typing._AnyMini">_AnyMini</a></code>)
          –
          <div class="doc-md-description">
            <p>The Mini instance to copy attributes from.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>target</code></b>
              (<code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;_AnyProto&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-module-attribute&quot;&gt;&lt;code&gt;module-attribute&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt; (&lt;code&gt;pysmo.lib.typing._AnyProto&lt;/code&gt;)" href="../lib/#pysmo.lib.typing._AnyProto">_AnyProto</a></code>)
          –
          <div class="doc-md-description">
            <p>Compatible target instance.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>update</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Update or add attributes in the target instance.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#AttributeError">AttributeError</a></code>
            –
          <div class="doc-md-description">
            <p>If the <code>target</code> instance does not contain all
attributes in the <code>source</code> instance (unless they are
provided with the <code>update</code> keyword argument).</p>
          </div>
        </li>
    </ul>


<details class="tip" open>
  <summary>See Also</summary>
  <p><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;clone_to_mini&lt;/span&gt;" href="#pysmo.functions.clone_to_mini"><code>clone_to_mini</code></a>: Create a new
instance of a Mini class from a matching other one.</p>
</details>
          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_utils.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">copy_from_mini</span><span class="p">(</span>
    <span class="n">source</span><span class="p">:</span> <span class="s2">&quot;_AnyMini&quot;</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="s2">&quot;_AnyProto&quot;</span><span class="p">,</span> <span class="n">update</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Copy attributes from a Mini instance to matching other one.</span>

<span class="sd">    This function [copies][copy.copy] all attributes in the `source` Mini class</span>
<span class="sd">    instance to a compatible `target` instance.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        source: The Mini instance to copy attributes from.</span>
<span class="sd">        target: Compatible target instance.</span>
<span class="sd">        update: Update or add attributes in the target instance.</span>

<span class="sd">    Raises:</span>
<span class="sd">        AttributeError: If the `target` instance does not contain all</span>
<span class="sd">            attributes in the `source` instance (unless they are</span>
<span class="sd">            provided with the `update` keyword argument).</span>

<span class="sd">    Tip: See Also</span>
<span class="sd">        [`clone_to_mini`][pysmo.functions.clone_to_mini]: Create a new</span>
<span class="sd">        instance of a Mini class from a matching other one.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">update</span> <span class="o">=</span> <span class="n">update</span> <span class="ow">or</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="n">attributes</span> <span class="o">=</span> <span class="n">unstructure</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">|</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">attributes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">update</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>

    <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">x</span><span class="p">),</span> <span class="n">attributes</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">attributes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">attribute</span> <span class="ow">in</span> <span class="n">update</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">update</span><span class="p">[</span><span class="n">attribute</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">copy</span><span class="p">(</span><span class="nb">getattr</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">attribute</span><span class="p">)))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unable to copy to target: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">target</span><span class="p">)</span><span class="si">}</span><span class="s2"> not compatible with </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.crop" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">crop</span>


<a href="#pysmo.functions.crop" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">crop</span><span class="p">(</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n"><span title="pysmo.functions._seismogram.crop[T]">crop[T]</span></span><span class="p">,</span>
    <span class="n">begin_time</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></span><span class="p">,</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></span><span class="p">,</span>
    <span class="n">clone</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n"><span title="pysmo.functions._seismogram.crop[T]">crop[T]</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Shorten a seismogram by providing new begin and end times.</p>
<p>This function calculates the indices corresponding to the provided new
begin and end times using <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;time2index&lt;/span&gt;" href="#pysmo.functions.time2index"><code>time2index</code></a>, then
slices the seismogram <code>data</code> array accordingly and updates the
<code>begin_time</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>seismogram</code></b>
              (<code><span title="pysmo.functions._seismogram.crop[T]">crop[T]</span></code>)
          –
          <div class="doc-md-description">
            <p><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>begin_time</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></code>)
          –
          <div class="doc-md-description">
            <p>New begin time.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>end_time</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></code>)
          –
          <div class="doc-md-description">
            <p>New end time.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>clone</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Operate on a clone of the input seismogram.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None | <span title="pysmo.functions._seismogram.crop[T]">crop[T]</span></code>
          –
          <div class="doc-md-description">
            <p>Cropped <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object if called with <code>clone=True</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            –
          <div class="doc-md-description">
            <p>If new begin time is after new end time.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">crop</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.classes</span><span class="w"> </span><span class="kn">import</span> <span class="n">SAC</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">timedelta</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span> <span class="o">=</span> <span class="n">SAC</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;example.sac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">seismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_begin_time</span> <span class="o">=</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">begin_time</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_end_time</span> <span class="o">=</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">end_time</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">crop</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">,</span> <span class="n">new_begin_time</span><span class="p">,</span> <span class="n">new_end_time</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>

          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_seismogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">crop</span><span class="p">[</span><span class="n">T</span><span class="p">:</span> <span class="n">Seismogram</span><span class="p">](</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">end_time</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">clone</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Shorten a seismogram by providing new begin and end times.</span>

<span class="sd">    This function calculates the indices corresponding to the provided new</span>
<span class="sd">    begin and end times using [`time2index`][pysmo.functions.time2index], then</span>
<span class="sd">    slices the seismogram `data` array accordingly and updates the</span>
<span class="sd">    `begin_time`.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        seismogram: [`Seismogram`][pysmo.Seismogram] object.</span>
<span class="sd">        begin_time: New begin time.</span>
<span class="sd">        end_time: New end time.</span>
<span class="sd">        clone: Operate on a clone of the input seismogram.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Cropped [`Seismogram`][pysmo.Seismogram] object if called with `clone=True`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If new begin time is after new end time.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.functions import crop</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.classes import SAC</span>
<span class="sd">        &gt;&gt;&gt; from datetime import timedelta</span>
<span class="sd">        &gt;&gt;&gt; sac_seis = SAC.from_file(&quot;example.sac&quot;).seismogram</span>
<span class="sd">        &gt;&gt;&gt; new_begin_time = sac_seis.begin_time + timedelta(seconds=10)</span>
<span class="sd">        &gt;&gt;&gt; new_end_time = sac_seis.end_time - timedelta(seconds=10)</span>
<span class="sd">        &gt;&gt;&gt; crop(sac_seis, new_begin_time, new_end_time)</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">begin_time</span> <span class="o">&gt;</span> <span class="n">end_time</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;New begin_time cannot be after new end_time&quot;</span><span class="p">)</span>

    <span class="n">start_index</span> <span class="o">=</span> <span class="n">time2index</span><span class="p">(</span><span class="n">seismogram</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">)</span>
    <span class="n">end_index</span> <span class="o">=</span> <span class="n">time2index</span><span class="p">(</span><span class="n">seismogram</span><span class="p">,</span> <span class="n">end_time</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">seismogram</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span>

    <span class="n">seismogram</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">start_index</span> <span class="p">:</span> <span class="n">end_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">seismogram</span><span class="o">.</span><span class="n">begin_time</span> <span class="o">+=</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span> <span class="o">*</span> <span class="n">start_index</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">seismogram</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.detrend" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">detrend</span>


<a href="#pysmo.functions.detrend" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">detrend</span><span class="p">(</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n"><span title="pysmo.functions._seismogram.detrend[T]">detrend[T]</span></span><span class="p">,</span> <span class="n">clone</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n"><span title="pysmo.functions._seismogram.detrend[T]">detrend[T]</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Remove linear and/or constant trends from a seismogram.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>seismogram</code></b>
              (<code><span title="pysmo.functions._seismogram.detrend[T]">detrend[T]</span></code>)
          –
          <div class="doc-md-description">
            <p>Seismogram object.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>clone</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Operate on a clone of the input seismogram.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None | <span title="pysmo.functions._seismogram.detrend[T]">detrend[T]</span></code>
          –
          <div class="doc-md-description">
            <p>Detrended <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object if called with <code>clone=True</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">detrend</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.classes</span><span class="w"> </span><span class="kn">import</span> <span class="n">SAC</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span> <span class="o">=</span> <span class="n">SAC</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;example.sac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">seismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span> <span class="o">==</span> <span class="n">pytest</span><span class="o">.</span><span class="n">approx</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sac_seis</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="nb">abs</span><span class="o">=</span><span class="mf">1e-11</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">False_</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">detrend</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">0</span> <span class="o">==</span> <span class="n">pytest</span><span class="o">.</span><span class="n">approx</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sac_seis</span><span class="o">.</span><span class="n">data</span><span class="p">),</span> <span class="nb">abs</span><span class="o">=</span><span class="mf">1e-11</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">True_</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>

          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_seismogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">detrend</span><span class="p">[</span><span class="n">T</span><span class="p">:</span> <span class="n">Seismogram</span><span class="p">](</span><span class="n">seismogram</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">clone</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove linear and/or constant trends from a seismogram.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        seismogram: Seismogram object.</span>
<span class="sd">        clone: Operate on a clone of the input seismogram.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Detrended [`Seismogram`][pysmo.Seismogram] object if called with `clone=True`.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; import pytest</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.functions import detrend</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.classes import SAC</span>
<span class="sd">        &gt;&gt;&gt; sac_seis = SAC.from_file(&quot;example.sac&quot;).seismogram</span>
<span class="sd">        &gt;&gt;&gt; 0 == pytest.approx(np.mean(sac_seis.data), abs=1e-11)</span>
<span class="sd">        np.False_</span>
<span class="sd">        &gt;&gt;&gt; detrend(sac_seis)</span>
<span class="sd">        &gt;&gt;&gt; 0 == pytest.approx(np.mean(sac_seis.data), abs=1e-11)</span>
<span class="sd">        np.True_</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">seismogram</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span>

    <span class="n">seismogram</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">signal</span><span class="o">.</span><span class="n">detrend</span><span class="p">(</span><span class="n">seismogram</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">seismogram</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.normalize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">normalize</span>


<a href="#pysmo.functions.normalize" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">normalize</span><span class="p">(</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n"><span title="pysmo.functions._seismogram.normalize[T]">normalize[T]</span></span><span class="p">,</span>
    <span class="n">t1</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">t2</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clone</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n"><span title="pysmo.functions._seismogram.normalize[T]">normalize[T]</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Normalize a seismogram with its absolute max value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>seismogram</code></b>
              (<code><span title="pysmo.functions._seismogram.normalize[T]">normalize[T]</span></code>)
          –
          <div class="doc-md-description">
            <p>Seismogram object.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>t1</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Optionally restrict searching of maximum to time after this time.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>t2</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a> | None</code>, default:
                  <code>None</code>
)
          –
          <div class="doc-md-description">
            <p>Optionally restrict searching of maximum to time before this time.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>clone</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Operate on a clone of the input seismogram.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None | <span title="pysmo.functions._seismogram.normalize[T]">normalize[T]</span></code>
          –
          <div class="doc-md-description">
            <p>Normalized <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object if <code>clone=True</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">normalize</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.classes</span><span class="w"> </span><span class="kn">import</span> <span class="n">SAC</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span> <span class="o">=</span> <span class="n">SAC</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;example.sac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">seismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">normalize</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">sac_seis</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="n">np</span><span class="o">.</span><span class="n">True_</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>

          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_seismogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">normalize</span><span class="p">[</span><span class="n">T</span><span class="p">:</span> <span class="n">Seismogram</span><span class="p">](</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
    <span class="n">t1</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">t2</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clone</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Normalize a seismogram with its absolute max value.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        seismogram: Seismogram object.</span>
<span class="sd">        t1: Optionally restrict searching of maximum to time after this time.</span>
<span class="sd">        t2: Optionally restrict searching of maximum to time before this time.</span>
<span class="sd">        clone: Operate on a clone of the input seismogram.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Normalized [`Seismogram`][pysmo.Seismogram] object if `clone=True`.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.functions import normalize</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.classes import SAC</span>
<span class="sd">        &gt;&gt;&gt; sac_seis = SAC.from_file(&quot;example.sac&quot;).seismogram</span>
<span class="sd">        &gt;&gt;&gt; normalize(sac_seis)</span>
<span class="sd">        &gt;&gt;&gt; -1 &lt;= np.max(sac_seis.data) &lt;= 1</span>
<span class="sd">        np.True_</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">seismogram</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span>

    <span class="n">start_index</span><span class="p">,</span> <span class="n">end_index</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">t1</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">start_index</span> <span class="o">=</span> <span class="n">time2index</span><span class="p">(</span><span class="n">seismogram</span><span class="p">,</span> <span class="n">t1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">t2</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">end_index</span> <span class="o">=</span> <span class="n">time2index</span><span class="p">(</span><span class="n">seismogram</span><span class="p">,</span> <span class="n">t2</span><span class="p">)</span>

    <span class="n">seismogram</span><span class="o">.</span><span class="n">data</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">seismogram</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">start_index</span><span class="p">:</span><span class="n">end_index</span><span class="p">]))</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">seismogram</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.pad" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">pad</span>


<a href="#pysmo.functions.pad" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">pad</span><span class="p">(</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n"><span title="pysmo.functions._seismogram.pad[T]">pad[T]</span></span><span class="p">,</span>
    <span class="n">begin_time</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></span><span class="p">,</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="n"><span title="numpy.lib._arraypad_impl._ModeKind">_ModeKind</span></span> <span class="o">|</span> <span class="n"><span title="numpy.lib._arraypad_impl._ModeFunc">_ModeFunc</span></span> <span class="o">=</span> <span class="s2">&quot;constant&quot;</span><span class="p">,</span>
    <span class="n">clone</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;typing.Any&lt;/code&gt;" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n"><span title="pysmo.functions._seismogram.pad[T]">pad[T]</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Pad seismogram data.</p>
<p>This function calculates the indices corresponding to the provided new
begin and end times using <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;time2index&lt;/span&gt;" href="#pysmo.functions.time2index"><code>time2index</code></a>, then
pads the <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;data&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-property&quot;&gt;&lt;code&gt;property&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-writable&quot;&gt;&lt;code&gt;writable&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../../#pysmo.Seismogram.data"><code>data</code></a> array using
<a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.pad.html#numpy.pad"><code>numpy.pad</code></a> and updates the
<a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-attribute&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-attribute-name&quot;&gt;begin_time&lt;/span&gt;


  &lt;span class=&quot;doc doc-labels&quot;&gt;
      &lt;small class=&quot;doc doc-label doc-label-property&quot;&gt;&lt;code&gt;property&lt;/code&gt;&lt;/small&gt;
      &lt;small class=&quot;doc doc-label doc-label-writable&quot;&gt;&lt;code&gt;writable&lt;/code&gt;&lt;/small&gt;
  &lt;/span&gt;" href="../../#pysmo.Seismogram.begin_time"><code>begin_time</code></a>. Note that the actual begin and
end times are set by indexing, so they may be slightly different than the
provided input begin and end times.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>seismogram</code></b>
              (<code><span title="pysmo.functions._seismogram.pad[T]">pad[T]</span></code>)
          –
          <div class="doc-md-description">
            <p><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>begin_time</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></code>)
          –
          <div class="doc-md-description">
            <p>New begin time.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>end_time</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></code>)
          –
          <div class="doc-md-description">
            <p>New end time.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>mode</code></b>
              (<code><span title="numpy.lib._arraypad_impl._ModeKind">_ModeKind</span> | <span title="numpy.lib._arraypad_impl._ModeFunc">_ModeFunc</span></code>, default:
                  <code>&#39;constant&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Pad mode to use (see <a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.pad.html#numpy.pad"><code>numpy.pad</code></a> for all modes).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>clone</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Operate on a clone of the input seismogram.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>kwargs</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;typing.Any&lt;/code&gt;" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>, default:
                  <code>{}</code>
)
          –
          <div class="doc-md-description">
            <p>Keyword arguments to pass to <a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.pad.html#numpy.pad"><code>numpy.pad</code></a>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None | <span title="pysmo.functions._seismogram.pad[T]">pad[T]</span></code>
          –
          <div class="doc-md-description">
            <p>Padded <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object if called with <code>clone=True</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            –
          <div class="doc-md-description">
            <p>If new begin time is after new end time.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">pad</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.classes</span><span class="w"> </span><span class="kn">import</span> <span class="n">SAC</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">timedelta</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span> <span class="o">=</span> <span class="n">SAC</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;example.sac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">seismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">original_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">data</span>
<span class="n">array</span><span class="p">([</span><span class="mf">2302.</span><span class="p">,</span> <span class="mf">2313.</span><span class="p">,</span> <span class="mf">2345.</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">2836.</span><span class="p">,</span> <span class="mf">2772.</span><span class="p">,</span> <span class="mf">2723.</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">180000</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_begin_time</span> <span class="o">=</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">begin_time</span> <span class="o">-</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_end_time</span> <span class="o">=</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">end_time</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pad</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">,</span> <span class="n">new_begin_time</span><span class="p">,</span> <span class="n">new_end_time</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">)</span> <span class="o">==</span> <span class="n">original_length</span> <span class="o">+</span> <span class="mi">20</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">delta</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">())</span>
<span class="kc">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">data</span>
<span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">181000</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>

          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_seismogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">pad</span><span class="p">[</span><span class="n">T</span><span class="p">:</span> <span class="n">Seismogram</span><span class="p">](</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
    <span class="n">begin_time</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">mode</span><span class="p">:</span> <span class="s2">&quot;_ModeKind | _ModeFunc&quot;</span> <span class="o">=</span> <span class="s2">&quot;constant&quot;</span><span class="p">,</span>
    <span class="n">clone</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pad seismogram data.</span>

<span class="sd">    This function calculates the indices corresponding to the provided new</span>
<span class="sd">    begin and end times using [`time2index`][pysmo.functions.time2index], then</span>
<span class="sd">    pads the [`data`][pysmo.Seismogram.data] array using</span>
<span class="sd">    [`numpy.pad`][numpy.pad] and updates the</span>
<span class="sd">    [`begin_time`][pysmo.Seismogram.begin_time]. Note that the actual begin and</span>
<span class="sd">    end times are set by indexing, so they may be slightly different than the</span>
<span class="sd">    provided input begin and end times.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        seismogram: [`Seismogram`][pysmo.Seismogram] object.</span>
<span class="sd">        begin_time: New begin time.</span>
<span class="sd">        end_time: New end time.</span>
<span class="sd">        mode: Pad mode to use (see [`numpy.pad`][numpy.pad] for all modes).</span>
<span class="sd">        clone: Operate on a clone of the input seismogram.</span>
<span class="sd">        kwargs: Keyword arguments to pass to [`numpy.pad`][numpy.pad].</span>

<span class="sd">    Returns:</span>
<span class="sd">        Padded [`Seismogram`][pysmo.Seismogram] object if called with `clone=True`.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If new begin time is after new end time.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.functions import pad</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.classes import SAC</span>
<span class="sd">        &gt;&gt;&gt; from datetime import timedelta</span>
<span class="sd">        &gt;&gt;&gt; sac_seis = SAC.from_file(&quot;example.sac&quot;).seismogram</span>
<span class="sd">        &gt;&gt;&gt; original_length = len(sac_seis)</span>
<span class="sd">        &gt;&gt;&gt; sac_seis.data</span>
<span class="sd">        array([2302., 2313., 2345., ..., 2836., 2772., 2723.], shape=(180000,))</span>
<span class="sd">        &gt;&gt;&gt; new_begin_time = sac_seis.begin_time - timedelta(seconds=10)</span>
<span class="sd">        &gt;&gt;&gt; new_end_time = sac_seis.end_time + timedelta(seconds=10)</span>
<span class="sd">        &gt;&gt;&gt; pad(sac_seis, new_begin_time, new_end_time)</span>
<span class="sd">        &gt;&gt;&gt; len(sac_seis) == original_length + 20 * (1 / sac_seis.delta.total_seconds())</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; sac_seis.data</span>
<span class="sd">        array([0., 0., 0., ..., 0., 0., 0.], shape=(181000,))</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">begin_time</span> <span class="o">&gt;</span> <span class="n">end_time</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;New begin_time cannot be after new end_time&quot;</span><span class="p">)</span>

    <span class="n">start_index</span> <span class="o">=</span> <span class="n">time2index</span><span class="p">(</span>
        <span class="n">seismogram</span><span class="p">,</span> <span class="n">begin_time</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;floor&quot;</span><span class="p">,</span> <span class="n">allow_out_of_bounds</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">end_index</span> <span class="o">=</span> <span class="n">time2index</span><span class="p">(</span>
        <span class="n">seismogram</span><span class="p">,</span> <span class="n">end_time</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">&quot;ceil&quot;</span><span class="p">,</span> <span class="n">allow_out_of_bounds</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">seismogram</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span>

    <span class="n">pad_before</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">start_index</span><span class="p">)</span>
    <span class="n">pad_after</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">end_index</span> <span class="o">-</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">pad_before</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">pad_after</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">seismogram</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pad</span><span class="p">(</span>
            <span class="n">seismogram</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
            <span class="n">pad_width</span><span class="o">=</span><span class="p">(</span><span class="n">pad_before</span><span class="p">,</span> <span class="n">pad_after</span><span class="p">),</span>
            <span class="n">mode</span><span class="o">=</span><span class="n">mode</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">seismogram</span><span class="o">.</span><span class="n">begin_time</span> <span class="o">+=</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span> <span class="o">*</span> <span class="nb">min</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">start_index</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">seismogram</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.resample" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">resample</span>


<a href="#pysmo.functions.resample" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">resample</span><span class="p">(</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n"><span title="pysmo.functions._seismogram.resample[T]">resample[T]</span></span><span class="p">,</span>
    <span class="n">delta</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.timedelta&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta">timedelta</a></span><span class="p">,</span>
    <span class="n">clone</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n"><span title="pysmo.functions._seismogram.resample[T]">resample[T]</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Resample Seismogram data using the Fourier method.</p>
<p>This function uses [<code>scipy.resample</code>][scipy.signal.resample] to resample
the data to a new sampling interval. If the new sampling interval is
identical to the current one, no action is taken.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>seismogram</code></b>
              (<code><span title="pysmo.functions._seismogram.resample[T]">resample[T]</span></code>)
          –
          <div class="doc-md-description">
            <p>Seismogram object.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>delta</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.timedelta&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta">timedelta</a></code>)
          –
          <div class="doc-md-description">
            <p>New sampling interval.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>clone</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Operate on a clone of the input seismogram.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None | <span title="pysmo.functions._seismogram.resample[T]">resample[T]</span></code>
          –
          <div class="doc-md-description">
            <p>Resampled <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object if called with <code>clone=True</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">resample</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.classes</span><span class="w"> </span><span class="kn">import</span> <span class="n">SAC</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span> <span class="o">=</span> <span class="n">SAC</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;example.sac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">seismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">)</span>
<span class="mi">180000</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">original_delta</span> <span class="o">=</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">delta</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_delta</span> <span class="o">=</span> <span class="n">original_delta</span> <span class="o">*</span> <span class="mi">2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">resample</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">,</span> <span class="n">new_delta</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">)</span>
<span class="mi">90000</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>

          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_seismogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">resample</span><span class="p">[</span><span class="n">T</span><span class="p">:</span> <span class="n">Seismogram</span><span class="p">](</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">clone</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resample Seismogram data using the Fourier method.</span>

<span class="sd">    This function uses [`scipy.resample`][scipy.signal.resample] to resample</span>
<span class="sd">    the data to a new sampling interval. If the new sampling interval is</span>
<span class="sd">    identical to the current one, no action is taken.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        seismogram: Seismogram object.</span>
<span class="sd">        delta: New sampling interval.</span>
<span class="sd">        clone: Operate on a clone of the input seismogram.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Resampled [`Seismogram`][pysmo.Seismogram] object if called with `clone=True`.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.functions import resample</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.classes import SAC</span>
<span class="sd">        &gt;&gt;&gt; sac_seis = SAC.from_file(&quot;example.sac&quot;).seismogram</span>
<span class="sd">        &gt;&gt;&gt; len(sac_seis)</span>
<span class="sd">        180000</span>
<span class="sd">        &gt;&gt;&gt; original_delta = sac_seis.delta</span>
<span class="sd">        &gt;&gt;&gt; new_delta = original_delta * 2</span>
<span class="sd">        &gt;&gt;&gt; resample(sac_seis, new_delta)</span>
<span class="sd">        &gt;&gt;&gt; len(sac_seis)</span>
<span class="sd">        90000</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">seismogram</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">delta</span> <span class="o">!=</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span><span class="p">:</span>
        <span class="n">npts</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span> <span class="o">*</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span> <span class="o">/</span> <span class="n">delta</span><span class="p">)</span>
        <span class="n">seismogram</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">scipy</span><span class="o">.</span><span class="n">signal</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="n">seismogram</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">npts</span><span class="p">)</span>
        <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span> <span class="o">=</span> <span class="n">delta</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">seismogram</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.taper" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">taper</span>


<a href="#pysmo.functions.taper" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">taper</span><span class="p">(</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n"><span title="pysmo.functions._seismogram.taper[T]">taper[T]</span></span><span class="p">,</span>
    <span class="n">taper_width</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.timedelta&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta">timedelta</a></span> <span class="o">|</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span>
    <span class="n">taper_method</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;typing.Literal&lt;/code&gt;" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span>
        <span class="s2">&quot;bartlett&quot;</span><span class="p">,</span>
        <span class="s2">&quot;blackman&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hamming&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hanning&quot;</span><span class="p">,</span>
        <span class="s2">&quot;kaiser&quot;</span><span class="p">,</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;hanning&quot;</span><span class="p">,</span>
    <span class="n">beta</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">=</span> <span class="mf">14.0</span><span class="p">,</span>
    <span class="n">left</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">right</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">clone</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n"><span title="pysmo.functions._seismogram.taper[T]">taper[T]</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Apply a symetric taper to the ends of a Seismogram.</p>
<p>The <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-function&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-function-name&quot;&gt;taper&lt;/span&gt;" href="#pysmo.functions.taper"><code>taper()</code></a> function applies a taper to the data
at one or both ends of a <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object. The width
of this taper can be provided as either positive
<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta"><code>timedelta</code></a> or as a fraction of the total seismogram
length. In both cases the total width of the taper (i.e. left and right
side combined) should not exceed the length of the seismogram.</p>
<p>Different methods for calculating the shape of the taper may be specified.
They are all derived from the corresponding <code>numpy</code> window functions:</p>
<ul>
<li><a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.bartlett.html#numpy.bartlett"><code>numpy.bartlett</code></a></li>
<li><a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.blackman.html#numpy.blackman"><code>numpy.blackman</code></a></li>
<li><a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.hamming.html#numpy.hamming"><code>numpy.hamming</code></a></li>
<li><a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.hanning.html#numpy.hanning"><code>numpy.hanning</code></a></li>
<li><a class="autorefs autorefs-external" href="https://numpy.org/doc/stable/reference/generated/numpy.kaiser.html#numpy.kaiser"><code>numpy.kaiser</code></a></li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>seismogram</code></b>
              (<code><span title="pysmo.functions._seismogram.taper[T]">taper[T]</span></code>)
          –
          <div class="doc-md-description">
            <p>Seismogram object.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>taper_width</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.timedelta&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta">timedelta</a> | <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>)
          –
          <div class="doc-md-description">
            <p>With of the taper to use.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>taper_method</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;typing.Literal&lt;/code&gt;" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;bartlett&#39;, &#39;blackman&#39;, &#39;hamming&#39;, &#39;hanning&#39;, &#39;kaiser&#39;]</code>, default:
                  <code>&#39;hanning&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Taper method to use.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>beta</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>, default:
                  <code>14.0</code>
)
          –
          <div class="doc-md-description">
            <p>beta value for the Kaiser window function (ignored for other methods).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>left</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Apply taper to the left side of the seismogram.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>right</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Apply taper to the right side of the seismogram.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>clone</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>Operate on a clone of the input seismogram.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code>None | <span title="pysmo.functions._seismogram.taper[T]">taper[T]</span></code>
          –
          <div class="doc-md-description">
            <p>Tapered <a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt;" href="../../#pysmo.Seismogram"><code>Seismogram</code></a> object if called with <code>clone=True</code>.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.functions</span><span class="w"> </span><span class="kn">import</span> <span class="n">taper</span><span class="p">,</span> <span class="n">detrend</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pysmo.classes</span><span class="w"> </span><span class="kn">import</span> <span class="n">SAC</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span> <span class="o">=</span> <span class="n">SAC</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;example.sac&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">seismogram</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">detrend</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">data</span>
<span class="n">array</span><span class="p">([</span> <span class="mf">95.59652208</span><span class="p">,</span> <span class="mf">106.59521819</span><span class="p">,</span> <span class="mf">138.59391429</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">394.90004126</span><span class="p">,</span>
       <span class="mf">330.89873737</span><span class="p">,</span> <span class="mf">281.89743348</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">180000</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">taper</span><span class="p">(</span><span class="n">sac_seis</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sac_seis</span><span class="o">.</span><span class="n">data</span>
<span class="n">array</span><span class="p">([</span><span class="mf">0.00000000e+00</span><span class="p">,</span> <span class="mf">8.11814104e-07</span><span class="p">,</span> <span class="mf">4.22204657e-06</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
       <span class="mf">1.20300114e-05</span><span class="p">,</span> <span class="mf">2.52007798e-06</span><span class="p">,</span> <span class="mf">0.00000000e+00</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">180000</span><span class="p">,))</span>
<span class="o">&gt;&gt;&gt;</span>
</code></pre></div>

          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_seismogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">taper</span><span class="p">[</span><span class="n">T</span><span class="p">:</span> <span class="n">Seismogram</span><span class="p">](</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span>
    <span class="n">taper_width</span><span class="p">:</span> <span class="n">timedelta</span> <span class="o">|</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">taper_method</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span>
        <span class="s2">&quot;bartlett&quot;</span><span class="p">,</span> <span class="s2">&quot;blackman&quot;</span><span class="p">,</span> <span class="s2">&quot;hamming&quot;</span><span class="p">,</span> <span class="s2">&quot;hanning&quot;</span><span class="p">,</span> <span class="s2">&quot;kaiser&quot;</span>
    <span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;hanning&quot;</span><span class="p">,</span>
    <span class="n">beta</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">14.0</span><span class="p">,</span>
    <span class="n">left</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">right</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">clone</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span> <span class="o">|</span> <span class="n">T</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Apply a symetric taper to the ends of a Seismogram.</span>

<span class="sd">    The [`taper()`][pysmo.functions.taper] function applies a taper to the data</span>
<span class="sd">    at one or both ends of a [`Seismogram`][pysmo.Seismogram] object. The width</span>
<span class="sd">    of this taper can be provided as either positive</span>
<span class="sd">    [`timedelta`][datetime.timedelta] or as a fraction of the total seismogram</span>
<span class="sd">    length. In both cases the total width of the taper (i.e. left and right</span>
<span class="sd">    side combined) should not exceed the length of the seismogram.</span>

<span class="sd">    Different methods for calculating the shape of the taper may be specified.</span>
<span class="sd">    They are all derived from the corresponding `numpy` window functions:</span>

<span class="sd">    - [`numpy.bartlett`][numpy.bartlett]</span>
<span class="sd">    - [`numpy.blackman`][numpy.blackman]</span>
<span class="sd">    - [`numpy.hamming`][numpy.hamming]</span>
<span class="sd">    - [`numpy.hanning`][numpy.hanning]</span>
<span class="sd">    - [`numpy.kaiser`][numpy.kaiser]</span>

<span class="sd">    Parameters:</span>
<span class="sd">        seismogram: Seismogram object.</span>
<span class="sd">        taper_width: With of the taper to use.</span>
<span class="sd">        taper_method: Taper method to use.</span>
<span class="sd">        beta: beta value for the Kaiser window function (ignored for other methods).</span>
<span class="sd">        left: Apply taper to the left side of the seismogram.</span>
<span class="sd">        right: Apply taper to the right side of the seismogram.</span>
<span class="sd">        clone: Operate on a clone of the input seismogram.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tapered [`Seismogram`][pysmo.Seismogram] object if called with `clone=True`.</span>

<span class="sd">    Examples:</span>
<span class="sd">        ```python</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.functions import taper, detrend</span>
<span class="sd">        &gt;&gt;&gt; from pysmo.classes import SAC</span>
<span class="sd">        &gt;&gt;&gt; sac_seis = SAC.from_file(&quot;example.sac&quot;).seismogram</span>
<span class="sd">        &gt;&gt;&gt; detrend(sac_seis)</span>
<span class="sd">        &gt;&gt;&gt; sac_seis.data</span>
<span class="sd">        array([ 95.59652208, 106.59521819, 138.59391429, ..., 394.90004126,</span>
<span class="sd">               330.89873737, 281.89743348], shape=(180000,))</span>
<span class="sd">        &gt;&gt;&gt; taper(sac_seis, 0.1)</span>
<span class="sd">        &gt;&gt;&gt; sac_seis.data</span>
<span class="sd">        array([0.00000000e+00, 8.11814104e-07, 4.22204657e-06, ...,</span>
<span class="sd">               1.20300114e-05, 2.52007798e-06, 0.00000000e+00], shape=(180000,))</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">calc_window_data</span><span class="p">(</span><span class="n">window_length</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">taper_method</span> <span class="o">==</span> <span class="s2">&quot;bartlett&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">bartlett</span><span class="p">(</span><span class="n">window_length</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">taper_method</span> <span class="o">==</span> <span class="s2">&quot;blackman&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">blackman</span><span class="p">(</span><span class="n">window_length</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">taper_method</span> <span class="o">==</span> <span class="s2">&quot;hamming&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">hamming</span><span class="p">(</span><span class="n">window_length</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">taper_method</span> <span class="o">==</span> <span class="s2">&quot;hanning&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">hanning</span><span class="p">(</span><span class="n">window_length</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">taper_method</span> <span class="o">==</span> <span class="s2">&quot;kaiser&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">kaiser</span><span class="p">(</span><span class="n">window_length</span><span class="p">,</span> <span class="n">beta</span><span class="p">)</span>

    <span class="nd">@singledispatch</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">calc_samples</span><span class="p">(</span><span class="n">taper_width</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported type for &#39;taper_width&#39;: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">taper_width</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@calc_samples</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_</span><span class="p">(</span><span class="n">taper_width</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">floor</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span> <span class="o">*</span> <span class="n">taper_width</span><span class="p">)</span>

    <span class="nd">@calc_samples</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">timedelta</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_</span><span class="p">(</span><span class="n">taper_width</span><span class="p">:</span> <span class="n">timedelta</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">floor</span><span class="p">(</span><span class="n">taper_width</span> <span class="o">/</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">seismogram</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">left</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">right</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">seismogram</span> <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="n">nsamples</span> <span class="o">=</span> <span class="n">calc_samples</span><span class="p">(</span><span class="n">taper_width</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">nsamples</span> <span class="o">*</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">seismogram</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;&#39;taper_width&#39; is too large. Total taper width may exceed the length of the seismogram.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">nsamples</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">taper_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seismogram</span><span class="p">))</span>
        <span class="n">window</span> <span class="o">=</span> <span class="n">calc_window_data</span><span class="p">(</span><span class="n">nsamples</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">left</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">taper_data</span><span class="p">[:</span><span class="n">nsamples</span><span class="p">]</span> <span class="o">=</span> <span class="n">window</span><span class="p">[:</span><span class="n">nsamples</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">right</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">taper_data</span><span class="p">[</span><span class="o">-</span><span class="n">nsamples</span><span class="p">:]</span> <span class="o">=</span> <span class="n">window</span><span class="p">[</span><span class="o">-</span><span class="n">nsamples</span><span class="p">:]</span>
        <span class="n">seismogram</span><span class="o">.</span><span class="n">data</span> <span class="o">*=</span> <span class="n">taper_data</span>

    <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">seismogram</span>

    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="pysmo.functions.time2index" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">time2index</span>


<a href="#pysmo.functions.time2index" class="headerlink" title="Permanent link">#</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">time2index</span><span class="p">(</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt; (&lt;code&gt;pysmo.Seismogram&lt;/code&gt;)" href="../../#pysmo.Seismogram">Seismogram</a></span><span class="p">,</span>
    <span class="n">time</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="&lt;code&gt;typing.Literal&lt;/code&gt;" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a></span><span class="p">[</span><span class="s2">&quot;ceil&quot;</span><span class="p">,</span> <span class="s2">&quot;floor&quot;</span><span class="p">,</span> <span class="s2">&quot;round&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;round&quot;</span><span class="p">,</span>
    <span class="n">allow_out_of_bounds</span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retuns data index corresponding to a given time.</p>
<p>This function converts time to index of a seismogram's data array. In most
cases the time will not have an exact match in the data array. This
function allows choosing how to select the index to return when that is
the case with the method parameter:</p>
<ul>
<li>round: round to nearest index.</li>
<li>ceil: always round up to next higher index.</li>
<li>floor: always round down to next lower index.</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>seismogram</code></b>
              (<code><a class="autorefs autorefs-internal" title="&lt;code class=&quot;doc-symbol doc-symbol-heading doc-symbol-class&quot;&gt;&lt;/code&gt;            &lt;span class=&quot;doc doc-object-name doc-class-name&quot;&gt;Seismogram&lt;/span&gt; (&lt;code&gt;pysmo.Seismogram&lt;/code&gt;)" href="../../#pysmo.Seismogram">Seismogram</a></code>)
          –
          <div class="doc-md-description">
            <p>Seismogram object.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>time</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;datetime.datetime&lt;/code&gt;" href="https://docs.python.org/3/library/datetime.html#datetime.datetime">datetime</a></code>)
          –
          <div class="doc-md-description">
            <p>Time to convert to index.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>method</code></b>
              (<code><a class="autorefs autorefs-external" title="&lt;code&gt;typing.Literal&lt;/code&gt;" href="https://docs.python.org/3/library/typing.html#typing.Literal">Literal</a>[&#39;ceil&#39;, &#39;floor&#39;, &#39;round&#39;]</code>, default:
                  <code>&#39;round&#39;</code>
)
          –
          <div class="doc-md-description">
            <p>Method to use for selecting the index to return.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>allow_out_of_bounds</code></b>
              (<code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>, default:
                  <code>False</code>
)
          –
          <div class="doc-md-description">
            <p>If True, allow returning an index that is outside
has no corresponding data point in the seismogram.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
          –
          <div class="doc-md-description">
            <p>Index of the sample corresponding to the given time.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Raises:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#ValueError">ValueError</a></code>
            –
          <div class="doc-md-description">
            <p>If the calculated index is out of bounds and
<code>allow_out_of_bounds</code> is not set to True.</p>
          </div>
        </li>
    </ul>

          

            <details class="quote">
              <summary>Source code in <code>pysmo/functions/_seismogram.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">time2index</span><span class="p">(</span>
    <span class="n">seismogram</span><span class="p">:</span> <span class="n">Seismogram</span><span class="p">,</span>
    <span class="n">time</span><span class="p">:</span> <span class="n">datetime</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;ceil&quot;</span><span class="p">,</span> <span class="s2">&quot;floor&quot;</span><span class="p">,</span> <span class="s2">&quot;round&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;round&quot;</span><span class="p">,</span>
    <span class="n">allow_out_of_bounds</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retuns data index corresponding to a given time.</span>

<span class="sd">    This function converts time to index of a seismogram&#39;s data array. In most</span>
<span class="sd">    cases the time will not have an exact match in the data array. This</span>
<span class="sd">    function allows choosing how to select the index to return when that is</span>
<span class="sd">    the case with the method parameter:</span>

<span class="sd">    - round: round to nearest index.</span>
<span class="sd">    - ceil: always round up to next higher index.</span>
<span class="sd">    - floor: always round down to next lower index.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        seismogram: Seismogram object.</span>
<span class="sd">        time: Time to convert to index.</span>
<span class="sd">        method: Method to use for selecting the index to return.</span>
<span class="sd">        allow_out_of_bounds: If True, allow returning an index that is outside</span>
<span class="sd">            has no corresponding data point in the seismogram.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Index of the sample corresponding to the given time.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the calculated index is out of bounds and</span>
<span class="sd">            `allow_out_of_bounds` is not set to True.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;ceil&quot;</span><span class="p">:</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">((</span><span class="n">time</span> <span class="o">-</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">begin_time</span><span class="p">)</span> <span class="o">/</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;floor&quot;</span><span class="p">:</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">((</span><span class="n">time</span> <span class="o">-</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">begin_time</span><span class="p">)</span> <span class="o">/</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;round&quot;</span><span class="p">:</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">((</span><span class="n">time</span> <span class="o">-</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">begin_time</span><span class="p">)</span> <span class="o">/</span> <span class="n">seismogram</span><span class="o">.</span><span class="n">delta</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid method provided. Valid options are &#39;ceil&#39;, &#39;floor&#39;, and &#39;round&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">seismogram</span><span class="p">)</span> <span class="ow">or</span> <span class="n">allow_out_of_bounds</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid time provided, calculated </span><span class="si">{</span><span class="n">index</span><span class="si">=}</span><span class="s2"> is out of bounds.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../classes/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Index">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Index
              </div>
            </div>
          </a>
        
        
          
          <a href="../tools/" class="md-footer__link md-footer__link--next" aria-label="Next: Index">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Index
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2012 - 2025 Simon Lloyd
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.top"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="../../../termynal.js"></script>
      
    
  </body>
</html>